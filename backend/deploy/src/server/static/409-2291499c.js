"use strict";(self.webpackChunkntti_2023_client=self.webpackChunkntti_2023_client||[]).push([[409],{3887:(e,t,n)=>{n.d(t,{V:()=>i});var a=n(8608),r=function(){return r=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)},i=a.p.injectEndpoints({endpoints:function(e){return{fetchCandidates:e.query({query:function(e){return{url:"/api/candidates",params:r({page:e.page,limit:e.limit},e.filterOptions)}}})}}}).useFetchCandidatesQuery},3409:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ge});var a=n(5893),r=n(4807),i=n(2594),s=n(7294),l=n(6088),c=n(1772),o=n(1456),d=n(8650),u=n(3379),p=n.n(u),h=n(7795),f=n.n(h),m=n(569),g=n.n(m),x=n(3565),j=n.n(x),v=n(9216),b=n.n(v),y=n(4589),k=n.n(y),w=n(8057),O={};O.styleTagTransform=k(),O.setAttributes=j(),O.insert=g().bind(null,"head"),O.domAPI=f(),O.insertStyleElement=b(),p()(w.Z,O);const C=w.Z&&w.Z.locals?w.Z.locals:void 0;var W=function(){return W=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},W.apply(this,arguments)},P=(0,s.memo)((function(e){var t=e.className,n=e.data,i=(e.multiple,e.onRowDelete);return(0,a.jsxs)(o.w,W({className:(0,r.A)(C.Table,{},[t]),value:n,removableSort:!0,selectionMode:"single",sortField:"name",sortOrder:1,emptyMessage:"Выберите от 2 до 4 выпускников, чтобы перейти к углубленному сравнению",onRowClick:function(e){return null==i?void 0:i(e.data)}},{children:[(0,a.jsx)(d.s,{alignHeader:"center",dataType:"text",field:"firstname",header:"ФИО",sortable:!0}),(0,a.jsx)(d.s,{alignHeader:"center",dataType:"text",field:"faculty",header:"Факультет",sortable:!0}),(0,a.jsx)(d.s,{alignHeader:"center",dataType:"text",field:"department",header:"Специальность",sortable:!0}),(0,a.jsx)(d.s,{alignHeader:"center",dataType:"numeric",field:"age",header:"Возраст",sortable:!0}),(0,a.jsx)(d.s,{alignHeader:"center",dataType:"text",field:"keySkills",header:"Ключевые навыки",sortable:!0})]}))})),N=n(7543),S=n(7820),A=n(7828),T=n(3540),L=n(5583),Z={};Z.styleTagTransform=k(),Z.setAttributes=j(),Z.insert=g().bind(null,"head"),Z.domAPI=f(),Z.insertStyleElement=b(),p()(L.Z,Z);const E=L.Z&&L.Z.locals?L.Z.locals:void 0;var U,z=function(){return z=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},z.apply(this,arguments)},I=(0,s.memo)((function(e){var t=e.className,n=e.multiple,i=void 0!==n&&n,s=e.titles,l=e.paragraphs;return(0,a.jsx)(T.J,z({multiple:i,className:(0,r.A)(E.accordion,{},[t])},{children:s.map((function(e,t){return(0,a.jsx)(T.U,z({header:e},{children:l[t]}),t)}))}))})),F=n(8068),B=n(9250),H=n(9170),R=n(3855),_=n(8949);function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},q.apply(this,arguments)}const D=function(e){return s.createElement("svg",q({width:40,height:40,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),U||(U=s.createElement("path",{d:"m16.666 10 8.822 8.822c.65.65.65 1.706 0 2.357L16.666 30",stroke:"currentcolor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))};var V=n(2540),J=n(4710),M=n(4457),Y=(0,s.memo)((function(e){var t=e.className,n=e.setCurrentLimit,r=e.setCurrentPage,i=e.currentPage,l=e.currentLimit,c=e.totalCandidates,o=(0,s.useCallback)((function(e){n(e.rows),r(e.page)}),[n,r]);return(0,a.jsx)(M.D,{className:t,first:i*l,rows:l,totalRecords:c||0,rowsPerPageOptions:[10,15,20,50],onPageChange:o})})),Q=n(3942),X=function(e){var t;return null===(t=e.candidates)||void 0===t?void 0:t.totalCandidates},G=n(2672),K=n(868),$=n(2466),ee=n(9975),te=n(7974),ne=n(702),ae={};ae.styleTagTransform=k(),ae.setAttributes=j(),ae.insert=g().bind(null,"head"),ae.domAPI=f(),ae.insertStyleElement=b(),p()(ne.Z,ae);const re=ne.Z&&ne.Z.locals?ne.Z.locals:void 0;var ie=function(){return ie=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ie.apply(this,arguments)},se=(0,s.memo)((function(e){var t=e.isOpen,n=e.setIsOpen,r=e.filterOptions,i=e.setFilterOptions,l=(0,s.useState)(r),c=l[0],o=l[1],d=(0,H.a)(),u=d.addSearchParams,p=d.deleteSearchParams,h=(0,s.useCallback)((function(e){o(ie(ie({},r),{age:e.value}))}),[r]),f=(0,s.useCallback)((function(e){o(ie(ie({},r),{education:e}))}),[r]),m=(0,s.useCallback)((function(){i(c),u({education:c.education.join(","),age:c.age.join(",")}),n(!1)}),[c,i,n]),g=(0,s.useCallback)((function(){i({age:[18,40],education:[]}),p("age"),p("education"),n(!1)}),[n,i]);return(0,a.jsx)($.u,ie({className:re.modal,title:"Поиск по параметрам",isOpen:t,setIsOpen:n},{children:(0,a.jsxs)(N.g,ie({maxW:!0,className:re.wrapper},{children:[(0,a.jsxs)(N.U,ie({maxW:!0,align:"start",gap:"16"},{children:[(0,a.jsx)("h3",ie({style:{margin:0,textAlign:"left"}},{children:"Факультет, кафедра:"})),(0,a.jsx)(ee.m,{selectedParams:c.education,setSelectedParams:f})]})),(0,a.jsxs)(N.U,ie({maxW:!0,gap:"16"},{children:[(0,a.jsx)("h3",ie({style:{margin:0}},{children:"Возраст:"})),(0,a.jsxs)(N.U,ie({className:re.sliderWrapper,maxW:!0,gap:"16"},{children:[(0,a.jsx)("p",{children:c.age[0]}),(0,a.jsx)("div",ie({style:{width:"100%"}},{children:(0,a.jsx)(te.i,{min:18,max:40,value:c.age,onChange:h,range:!0})})),(0,a.jsx)("p",{children:c.age[1]})]}))]})),(0,a.jsxs)(N.U,ie({maxW:!0,gap:"16"},{children:[(0,a.jsx)(S.z,ie({onClick:m},{children:"Поиск"})),(0,a.jsx)(S.z,ie({variant:"danger",onClick:g},{children:"Очистить фильтры"}))]}))]}))}))})),le=n(9704),ce=n(3887),oe=n(5368),de=n(235),ue={};ue.styleTagTransform=k(),ue.setAttributes=j(),ue.insert=g().bind(null,"head"),ue.domAPI=f(),ue.insertStyleElement=b(),p()(de.Z,ue);const pe=de.Z&&de.Z.locals?de.Z.locals:void 0;var he=function(){return he=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},he.apply(this,arguments)},fe=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,i=t.length;r<i;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},me={candidates:oe.ep};const ge=(0,s.memo)((function(e){var t,n,o=e.className;(0,s.useEffect)((function(){document.title="Кандидаты"}),[]);var d=(0,H.a)(),u=d.addSearchParams,p=d.deleteSearchParams,h=d.getSearchParam,f=(0,s.useState)([]),m=f[0],g=f[1],x=(0,s.useState)([]),j=x[0],v=x[1],b=(0,s.useState)(""),y=b[0],k=b[1],w=(0,s.useState)(0),O=w[0],C=w[1],W=(0,s.useState)(10),T=W[0],L=W[1],Z=(0,s.useState)(!1),E=Z[0],U=Z[1],z=(0,s.useState)({education:[],age:[18,40]}),q=z[0],M=z[1],$=(0,B.s0)(),ee=(0,Q.v9)(X),te=(0,G.T)(),ne=(0,ce.V)({page:O,limit:T,filterOptions:q}),ae=ne.data,re=ne.isLoading,ie=ne.isFetching;(0,s.useEffect)((function(){te((0,K.LY)())}),[q,te]),(0,s.useEffect)((function(){te((0,K.LY)());var e=h("task"),t=h("selected"),n=h("age"),a=h("education");e&&k(e),t&&v(t.split(",").map(Number)),a&&(M(he(he({},q),{education:a.split(",")})),u({education:a})),n&&(M(he(he({},q),{age:n.split(",").map(Number)})),u({age:n}))}),[te,q]),(0,s.useEffect)((function(){j.length&&ae&&g(ae.filter((function(e){return j.includes(e.id)})))}),[ae,j]),(0,s.useEffect)((function(){m.length&&u({selected:m.map((function(e){return e.id.toString()})).join(",")})}),[m]);var oe=(0,s.useCallback)((function(){y.length>=10&&m.length>=2&&m.length<=4&&$("".concat(R.h3.detailedcomparison,"?selected=").concat(m.map((function(e){return e.id.toString()})).join(","),"&task=").concat(y))}),[$,m,y]);(0,s.useEffect)((function(){y&&u({task:y})}),[y]);var de=(0,s.useCallback)((function(e){g((function(t){return t.filter((function(t){return t.id!==e.id}))}))}),[]);return(0,s.useEffect)((function(){var e=function(e){"Enter"===e.key&&y.length>=10&&m.length>=2&&m.length<=6&&$("".concat(R.h3.detailedcomparison,"?selected=").concat(m.map((function(e){return e.id.toString()})).join(","),"&task=").concat(y))};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[$,m,y]),re?(0,a.jsx)(l.W,he({reducers:me,removeAfterUnmount:!1},{children:(0,a.jsx)(i.T,he({className:(0,r.A)(pe.CandidatesPage,{},[o])},{children:(0,a.jsxs)(N.g,he({maxW:!0,gap:"32"},{children:[(0,a.jsx)(J.O,{width:"45%",height:"85px"}),(0,a.jsxs)(N.U,he({className:pe.skeletonWrapper,gap:"16",maxW:!0,align:"start",justify:"between"},{children:[(0,a.jsx)(N.g,he({gap:"16",className:pe.skeletonList},{children:new Array(10).fill(0).map((function(e,t){return(0,a.jsxs)(N.U,he({className:pe.skeletonCard,maxW:!0,gap:"8"},{children:[(0,a.jsx)(J.O,{shape:"circle",size:"75px"}),(0,a.jsxs)(N.g,he({maxW:!0,align:"start"},{children:[(0,a.jsx)(J.O,{width:"100%",height:"40px"}),(0,a.jsx)(J.O,{width:"60%",height:"20px"}),(0,a.jsx)(J.O,{width:"60%",height:"20px"})]}))]}),t)}))})),(0,a.jsx)(J.O,{className:pe.skeletonTable,width:"60%",height:"30vh"})]}))]}))}))})):(null==ae?void 0:ae.length)||re?(0,a.jsx)(l.W,he({reducers:me,removeAfterUnmount:!1},{children:(0,a.jsxs)(i.T,he({className:(0,r.A)(pe.CandidatesPage,{},[o])},{children:[(0,a.jsx)(se,{filterOptions:q,setIsOpen:U,isOpen:E,setFilterOptions:M}),(0,a.jsx)(le.V,{title:"Сравнение выпускников"}),(0,a.jsxs)(N.U,he({className:pe.deleteBtn,maxW:!0,justify:"end"},{children:[(0,a.jsx)(S.z,he({size:"small",onClick:function(){return $(R.h3.grouping)}},{children:"Группировка кандидатов"})),(0,a.jsx)(S.z,he({size:"small",onClick:function(){return U(!0)}},{children:"Поиск по параметрам"})),(0,a.jsx)(S.z,he({size:"small",variant:"danger",disabled:!m.length,onClick:function(){g([]),p("selected"),p("task")}},{children:"Очистить выбор"}))]})),(0,a.jsxs)(F.q,he({className:pe.contentWrapper},{children:[(0,a.jsxs)(F.E,he({size:40,className:pe.accordion},{children:[ie?(0,a.jsx)(N.g,he({gap:"16",className:pe.skeletonListFetching},{children:new Array(5).fill(0).map((function(e,t){return(0,a.jsxs)(N.U,he({className:pe.skeletonCard,maxW:!0,gap:"8"},{children:[(0,a.jsx)(J.O,{shape:"circle",size:"75px"}),(0,a.jsxs)(N.g,he({maxW:!0,align:"start"},{children:[(0,a.jsx)(J.O,{width:"100%",height:"40px"}),(0,a.jsx)(J.O,{width:"60%",height:"20px"}),(0,a.jsx)(J.O,{width:"60%",height:"20px"})]}))]}),t)}))})):(0,a.jsx)(I,{titles:(null==ae?void 0:ae.map((function(e){return(0,a.jsxs)(N.U,he({className:pe.disclosureBug,maxW:!0,justify:"start",gap:"16"},{children:[(0,a.jsx)(c.X,{onChange:function(t){t.stopPropagation(),m.includes(e)?g((function(t){return t.filter((function(t){return t!==e}))})):g((function(t){return fe(fe([],t,!0),[e],!1)}))},checked:m.includes(e)}),(0,a.jsx)("img",{src:e.img,title:e.lastname,alt:e.lastname,className:pe.img}),(0,a.jsx)(A.xv,{className:pe.textBlock,size:"extrasmall",title:e.firstname})]}),e.id)})))||[(0,a.jsx)("p",{children:"ничего"})],paragraphs:(null==ae?void 0:ae.map((function(e){return(0,a.jsxs)(N.g,he({maxW:!0,gap:"0"},{children:[(0,a.jsxs)(N.U,he({maxW:!0},{children:[(0,a.jsx)("b",{children:"Возраст:"}),(0,a.jsx)("p",{children:e.age})]})),(0,a.jsxs)(N.U,he({maxW:!0},{children:[(0,a.jsx)("b",{children:"Факультет:"}),(0,a.jsx)("p",{children:e.faculty})]})),(0,a.jsxs)(N.U,he({maxW:!0},{children:[(0,a.jsx)("b",{children:"Специальность:"}),(0,a.jsx)("p",{children:e.department})]})),(0,a.jsxs)(N.U,he({maxW:!0},{children:[(0,a.jsx)("b",{children:"Ключевые навыки:"}),(0,a.jsx)("p",{children:e.keySkills.slice(0,3).join(", ")})]}))]}),e.id)})))||[(0,a.jsx)("p",{children:"ничего"})]}),(0,a.jsx)(Y,{totalCandidates:ee,setCurrentLimit:L,setCurrentPage:C,currentPage:O,currentLimit:T})]})),(0,a.jsxs)(F.E,he({size:60,className:pe.tableWrapper},{children:[(0,a.jsx)(P,{data:m,onRowDelete:de}),(0,a.jsx)(V.I,{className:pe.input,value:y,onChange:k,placeholder:"Введите задачу, которую необходимо решить"}),(0,a.jsxs)(N.U,he({maxW:!0,justify:"end",className:(0,r.A)(pe.detailedComparisonLinkWrapper,(t={},t[pe.active]=y.length>=10&&m.length>=2&&m.length<=6,t)),onClick:oe},{children:[(0,a.jsx)(A.xv,{title:"Перейти к подробному сравнению",size:"small",align:"right",className:(0,r.A)(pe.detailedComparisonLink,(n={},n[pe.active]=y.length>=10&&m.length>=2&&m.length<=6,n))}),(0,a.jsx)(_.J,{Svg:D})]}))]}))]}))]}))})):(0,a.jsx)(l.W,he({reducers:me,removeAfterUnmount:!1},{children:(0,a.jsx)(i.T,he({className:(0,r.A)(pe.CandidatesPage,{},[o])},{children:(0,a.jsx)("h2",{children:"ничего не нашли"})}))}))}))},9170:(e,t,n)=>{n.d(t,{a:()=>r});var a=n(9655);function r(){var e=(0,a.lr)(),t=e[0],n=e[1];return{addSearchParams:function(e){for(var a in e)t.set(a,e[a]);n(t)},deleteSearchParams:function(e){t.delete(e),n(t)},getSearchParams:function(){return Array.from(t.entries()).map((function(e){return{param:e[0],value:e[1]}}))||[]},getSearchParam:function(e){var n,a=Array.from(t.entries()).map((function(e){return{param:e[0],value:e[1]}}));return(null===(n=a.filter((function(t){return t.param===e}))[0])||void 0===n?void 0:n.value)||void 0}}}},235:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,".e9df0 h1,.e9df0 h2,.e9df0 h3,.e9df0 h4{margin:0}.feaf1{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;gap:10px}.feaf1 p{margin:0 0 0 5px;line-height:17px}.fbe48{position:sticky;bottom:20px}.b6c7d *{text-align:center;align-self:center}.acf93{margin-bottom:20px}.affdd{width:50px;height:50px;border-radius:10px;font-size:12px}.d09aa p{margin:0}.f169f{border:none;background:rgba(0,0,0,0);display:flex;align-items:start;gap:10px;outline:none;position:relative}.fc42d{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;gap:10px;position:sticky;top:-20px}.e375b{margin-top:20px}.b62f5{cursor:not-allowed;margin:20px}.c92f3 h3{margin:0;color:rgba(100,100,100,.7)}.b358d{cursor:pointer}.b358d h3{color:rgba(0,0,0,0) !important;font:var(--font-m);font-weight:bold;-webkit-background-clip:text !important;background-clip:text !important;background-image:var(--accent-gradient) !important}.d81bd{align-items:start;position:relative}.d8a23{padding:10px 15px;border-radius:8px;outline:2px solid rgba(255,255,255,.06)}.a7542{width:40%}.deaba{width:100%}.af420{width:60%}",""]),s.locals={textBlock:"e9df0",accordion:"feaf1",paginator:"fbe48","p-datatable-wrapper":"b6c7d",deleteBtn:"acf93",img:"affdd",disclosureBug:"d09aa",contentWrapper:"f169f",tableWrapper:"fc42d",input:"e375b",detailedComparisonLinkWrapper:"b62f5",detailedComparisonLink:"c92f3",active:"b358d",skeletonWrapper:"d81bd",skeletonCard:"d8a23",skeletonList:"a7542",skeletonListFetching:"deaba",skeletonTable:"af420"};const l=s},5583:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,"",""]),s.locals={};const l=s},8057:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,".f4146{width:100%}",""]),s.locals={Table:"f4146"};const l=s},702:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(8081),r=n.n(a),i=n(3645),s=n.n(i)()(r());s.push([e.id,".a0bee{max-width:50vw}.f1dcd{width:100%}.a5723{margin-top:20px}",""]),s.locals={modal:"a0bee",sliderWrapper:"f1dcd",wrapper:"a5723"};const l=s}}]);